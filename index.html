<!DOCTYPE html>
<html lang="en-us">

</html>
<html>

<head>
    <meta charset="UTF-8">
    <title>NJIB Word Guess Game</title>

    <!-- Link html to CSS reset -->
    <link rel="stylesheet" type="text/css" href="assets/css/reset.css">
    ​
    <!-- Link html to the Bootstrap CDN -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- Link html to the CSS stylesheet -->
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">

    <style>
        .col {
            border: 1px solid black;
        }
    </style>


</head>

<body>

    <!--Link to game script-->
    <!-- <script src="../assets/javascript/game.js"></script> -->

    <!-- THIS SCRIPT WILL GET MOVED INTO THE GAME.JS FILE-->
    <script>
        //INSERT ANY-KEY PRESS TO START THE GAME
        // var wannaPlay = confirm("Do you like soccer? Let's play a game!");
        // listofTeams is the array containing all 20 possible answers
        var listofTeams = ["Arsenal", "Aston Villa", "Bournemouth", "Brighton Hove Albion", "Burnley", "Chelsea", "Crystal Palace", "Everton", "Leicester City", "Liverpool", "Manchester City", "Manchester United", "Newcastle United", "Norwich City", "Sheffield United", "Southampton", "Tottenham Hotspur", "Watford", "West Ham United", "Wolverhampton Wanderers"];
        // chosenTeam is the team the computer randomly selects
        var chosenTeam = [];
        // chosenTeam is the lower case of chosenTeam - used for search, not for display
        var chosenTeamLowerCase = [];
        // blankDisplay is how the blanks are shown on the screen
        var blankDisplay = [];
        //teamNameLength counts the length of the chosenTeam
        var teamNameLength = 0;
        //letterGuessed captures the key the player hits to guess a letter
        var letterGuessed = [];
        //Guess counter
        var guessCounter = 0;
        //Guesses remaining
        var guessesRemaining = 10;
        //letterPosition identifies the position in the chosenTeam string of the guessed letter
        var letterPosition = [];
        //stringLocation controls where the program is looking in chosenTeam
        var stringLocation = 0;


        // Computer randomly chooses a team - WORKING
        function chooseTeam() {
            chosenTeam = listofTeams[Math.floor(Math.random() * listofTeams.length)];
            chosenTeamLowerCase = chosenTeam.toLowerCase();
            console.log(chosenTeam);
        }

        // Computer calculates length of string for team chosen, and displays placeholders
        function chosenTeamLengthCount() {
            teamNameLength = chosenTeam.length;
            console.log(teamNameLength);
        }

        function displayPlaceholders() {
            // blankDisplay populated with the same number of "_" as the length of chosenTeam
            for (var blankCount = 0; blankCount < teamNameLength; blankCount++) {
                blankDisplay.push(" _ ");
                if (blankDisplay.length === teamNameLength) {
                    console.log(blankDisplay);
                    document.write(blankDisplay);
                }
            }
        }

        function playerGuesses() {
            // Senses which key the player has selected
            document.onkeyup = function (event) {
                letterGuessed = event.key.toLowerCase();
                // console.log(letterGuessed);

                //guessCounter incremented by for each guess
                guessCounter++;
                // console.log(guessCounter);

                //Remaining guesses calculated
                guessesRemaining = (10-guessCounter);
                // console.log(guessesRemaining);

                locateGuessinString();
            }
        }
        
            function locateGuessinString() {
                // Determines which position in the array the letter sits (NEED TO WORK OUT HOW TO LOOP THROUGH FOR MULTIPLE OCCURRENCES)  
            //Original working code - but only working for one occurrence  
                // letterPosition = chosenTeamLowerCase.indexOf(letterGuessed);
                // replacePlaceholders(letterPosition);
            //End of original working code
                for (stringLocation = 0; stringLocation < teamNameLength; stringLocation++) {
                    if (chosenTeamLowerCase[stringLocation] === letterGuessed) {
                        letterPosition.push (stringLocation);
                    }
                }
                replacePlaceholders(letterPosition);
            }

        function replacePlaceholders(letterPosition) {
            // Replace blanks with letters guessed
            if (letterPosition > -1) {
            //Write letterGuessed back to blankDisplay, converting back to upper case, if necessary - TESTING
                blankDisplay[letterPosition] = chosenTeam[letterPosition];
                console.log(blankDisplay);
                // document.write("<br />" + blankDisplay);
            }
        }


        //FUNCTION CALLS FOR PROGRAM EXECUTION        
        chooseTeam();
        chosenTeamLengthCount();
        displayPlaceholders();
        playerGuesses();
        replacePlaceholders();



    </script>



    <!-- jQuery, javascript file for the Bootstrap's javascript file to function -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    ​
    <!-- Bootstrap's javascript file that allows the dropdown menu to work  -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    ​
</body>

</html>